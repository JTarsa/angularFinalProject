{"ast":null,"code":"import { Priority } from \"src/app/enums/priority.enum\";\nimport { WorkStatus } from \"src/app/enums/workStatus.enum\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/task.service\";\nimport * as i3 from \"src/app/services/functionality.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction TaskFormComponent_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const functionality_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", functionality_r1.ID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", functionality_r1.name, \" \");\n  }\n}\nexport class TaskFormComponent {\n  constructor(formBuilder, taskService, functionalityService, router) {\n    this.formBuilder = formBuilder;\n    this.taskService = taskService;\n    this.functionalityService = functionalityService;\n    this.router = router;\n    this.tasks = [];\n    this.workStatusValues = Object.values(WorkStatus);\n    this.priorityValues = Object.values(Priority);\n    this.functionalityList = [];\n  }\n  ngOnInit() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true\n    });\n    this.taskForm = this.formBuilder.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      priority: [Priority.Low, Validators.required],\n      projectName: [\"\", Validators.required],\n      owner: [\"\", Validators.required],\n      status: [WorkStatus.Todo, Validators.required],\n      addedDate: addedDateControl,\n      startDate: [\"\"],\n      endDate: [\"\"],\n      timeSpent: [\"\"],\n      functionality: [\"\", Validators.required]\n    });\n    this.taskService.getTasks().subscribe(tasks => {\n      this.tasks = tasks;\n    }, error => console.log(error));\n    this.functionalityService.getFunctionalities().subscribe(functionalities => {\n      this.functionalityList = functionalities;\n    }, error => console.log(error));\n  }\n  addTask() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true\n    });\n    const addedDateValue = addedDateControl.value !== null ? addedDateControl.value : currentDate;\n    const selectedFunctionalityId = this.taskForm.value.functionality;\n    const selectedFunctionality = this.functionalityList.find(f => f.ID === selectedFunctionalityId);\n    if (!selectedFunctionality) {\n      return; // Dodaj odpowiednie obsłużenie błędu, jeśli funkcjonalność nie zostanie znaleziona\n    }\n\n    const newTask = {\n      ID: Date.now().toString(),\n      name: this.taskForm.value.name,\n      description: this.taskForm.value.description,\n      priority: this.taskForm.value.priority,\n      functionalityID: selectedFunctionality.ID,\n      functionality: selectedFunctionality,\n      state: this.taskForm.value.status,\n      addedDate: new Date(addedDateValue),\n      startDate: this.taskForm.value.startDate,\n      endDate: this.taskForm.value.endDate,\n      assignedUser: this.taskForm.value.owner\n    };\n    this.taskService.createTask(newTask).subscribe(task => {\n      console.log(task);\n      if (!selectedFunctionality.tasks) {\n        selectedFunctionality.tasks = []; // Inicjalizuj tablicę zadaniami, jeśli nie istnieje\n      }\n\n      selectedFunctionality.tasks.push(task); // Dodaj zadanie do listy zadań funkcjonalności\n      this.router.navigateByUrl(\"/functionalities\");\n    }, error => console.log(error));\n  }\n}\nTaskFormComponent.ɵfac = function TaskFormComponent_Factory(t) {\n  return new (t || TaskFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TaskService), i0.ɵɵdirectiveInject(i3.FunctionalityService), i0.ɵɵdirectiveInject(i4.Router));\n};\nTaskFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaskFormComponent,\n  selectors: [[\"app-task-form\"]],\n  decls: 48,\n  vars: 8,\n  consts: [[1, \"task-form\"], [1, \"form-group\"], [1, \"input-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"priority\"], [\"id\", \"priority\", \"name\", \"priority\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"High\"], [\"value\", \"Medium\"], [\"value\", \"Low\"], [\"for\", \"status\"], [\"id\", \"status\", \"name\", \"status\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"In Progress\"], [\"value\", \"Completed\"], [\"value\", \"On Hold\"], [\"for\", \"functionality\"], [\"id\", \"functionality\", \"name\", \"functionality\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"startDate\"], [\"type\", \"date\", \"id\", \"startDate\", \"name\", \"startDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"endDate\"], [\"type\", \"date\", \"id\", \"endDate\", \"name\", \"endDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn-create-task\", 3, \"click\"], [3, \"value\"]],\n  template: function TaskFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\")(2, \"h1\");\n      i0.ɵɵtext(3, \"Create a new task for this functionality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1)(5, \"div\", 2)(6, \"label\", 3);\n      i0.ɵɵtext(7, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.taskForm.value.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 5);\n      i0.ɵɵtext(11, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.taskForm.value.description = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 2)(14, \"label\", 7);\n      i0.ɵɵtext(15, \"Priority\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_select_ngModelChange_16_listener($event) {\n        return ctx.taskForm.value.priority = $event;\n      });\n      i0.ɵɵelementStart(17, \"option\", 9);\n      i0.ɵɵtext(18, \"High\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"option\", 10);\n      i0.ɵɵtext(20, \"Medium\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"option\", 11);\n      i0.ɵɵtext(22, \"Low\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\", 2)(24, \"label\", 12);\n      i0.ɵɵtext(25, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"select\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_select_ngModelChange_26_listener($event) {\n        return ctx.taskForm.value.status = $event;\n      });\n      i0.ɵɵelementStart(27, \"option\", 14);\n      i0.ɵɵtext(28, \"In Progress\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"option\", 15);\n      i0.ɵɵtext(30, \"Completed\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"option\", 16);\n      i0.ɵɵtext(32, \"On Hold\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"div\", 2)(34, \"label\", 17);\n      i0.ɵɵtext(35, \"Functionality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"select\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_select_ngModelChange_36_listener($event) {\n        return ctx.taskForm.value.functionality = $event;\n      });\n      i0.ɵɵtemplate(37, TaskFormComponent_option_37_Template, 2, 2, \"option\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 2)(39, \"label\", 20);\n      i0.ɵɵtext(40, \"Start date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"input\", 21);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_input_ngModelChange_41_listener($event) {\n        return ctx.taskForm.value.startDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 2)(43, \"label\", 22);\n      i0.ɵɵtext(44, \"End date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"input\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function TaskFormComponent_Template_input_ngModelChange_45_listener($event) {\n        return ctx.taskForm.value.endDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(46, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function TaskFormComponent_Template_button_click_46_listener() {\n        return ctx.addTask();\n      });\n      i0.ɵɵtext(47, \"Create task\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.description);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.priority);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.status);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.functionality);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.functionalityList);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.startDate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.taskForm.value.endDate);\n    }\n  },\n  dependencies: [i5.NgForOf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.NgModel, i1.NgForm],\n  styles: [\".task-form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n\\n.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 5px;\\n}\\n\\n.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 5px;\\n  font-size: 16px;\\n  border-radius: 4px;\\n  border: 1px solid #ccc;\\n}\\n\\n.btn-create-task[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 10px;\\n  font-size: 16px;\\n  border-radius: 4px;\\n  background-color: #4caf50;\\n  color: white;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n.btn-create-task[_ngcontent-%COMP%]:hover {\\n  background-color: #45a049;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhc2stZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7O0VBRUUsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJ0YXNrLWZvcm0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50YXNrLWZvcm0ge1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG4uZm9ybS1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5pbnB1dC1ncm91cCBsYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5pbnB1dC1ncm91cCBpbnB1dCxcbi5pbnB1dC1ncm91cCBzZWxlY3Qge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogNXB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbn1cblxuLmJ0bi1jcmVhdGUtdGFzayB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5idG4tY3JlYXRlLXRhc2s6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5O1xufVxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90YXNrLWZvcm0vdGFzay1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtBQUNwQjs7QUFFQTs7RUFFRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFdBQVc7RUFDWCxhQUFhO0VBQ2IsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBLGdnREFBZ2dEIiwic291cmNlc0NvbnRlbnQiOlsiLnRhc2stZm9ybSB7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5mb3JtLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmlucHV0LWdyb3VwIGxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLmlucHV0LWdyb3VwIGlucHV0LFxuLmlucHV0LWdyb3VwIHNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiA1cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uYnRuLWNyZWF0ZS10YXNrIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzRjYWY1MDtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmJ0bi1jcmVhdGUtdGFzazpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,QAAQ,QAAQ,6BAA6B;AACtD,SAASC,UAAU,QAAQ,+BAA+B;AAC1D,SAEEC,WAAW,EAEXC,UAAU,QACL,gBAAgB;;;;;;;;;ICqDbC,kCAGC;IACCA,YACF;IAAAA,iBAAS;;;;IAHPA,2CAA0B;IAE1BA,eACF;IADEA,sDACF;;;ADhDV,OAAM,MAAOC,iBAAiB;EAO5BC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,oBAA0C,EAC1CC,MAAc;IAHd,gBAAW,GAAXH,WAAW;IACX,gBAAW,GAAXC,WAAW;IACX,yBAAoB,GAApBC,oBAAoB;IACpB,WAAM,GAANC,MAAM;IAVhB,UAAK,GAAoB,EAAE;IAE3B,qBAAgB,GAAGC,MAAM,CAACC,MAAM,CAACX,UAAU,CAAC;IAC5C,mBAAc,GAAGU,MAAM,CAACC,MAAM,CAACZ,QAAQ,CAAC;IACxC,sBAAiB,GAA6B,EAAE;EAO7C;EAEHa,QAAQ;IACN,MAAMC,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1D,MAAMC,gBAAgB,GAAG,IAAIhB,WAAW,CAAC;MACvCiB,KAAK,EAAEL,WAAW;MAClBM,QAAQ,EAAE;KACX,CAAC;IAEF,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACd,WAAW,CAACe,KAAK,CAAC;MACrCC,IAAI,EAAE,CAAC,EAAE,EAAEpB,UAAU,CAACqB,QAAQ,CAAC;MAC/BC,WAAW,EAAE,CAAC,EAAE,EAAEtB,UAAU,CAACqB,QAAQ,CAAC;MACtCE,QAAQ,EAAE,CAAC1B,QAAQ,CAAC2B,GAAG,EAAExB,UAAU,CAACqB,QAAQ,CAAC;MAC7CI,WAAW,EAAE,CAAC,EAAE,EAAEzB,UAAU,CAACqB,QAAQ,CAAC;MACtCK,KAAK,EAAE,CAAC,EAAE,EAAE1B,UAAU,CAACqB,QAAQ,CAAC;MAChCM,MAAM,EAAE,CAAC7B,UAAU,CAAC8B,IAAI,EAAE5B,UAAU,CAACqB,QAAQ,CAAC;MAC9CQ,SAAS,EAAEd,gBAAgB;MAC3Be,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,OAAO,EAAE,CAAC,EAAE,CAAC;MACbC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,aAAa,EAAE,CAAC,EAAE,EAAEjC,UAAU,CAACqB,QAAQ;KACxC,CAAC;IAEF,IAAI,CAAChB,WAAW,CAAC6B,QAAQ,EAAE,CAACC,SAAS,CAClCC,KAAsB,IAAI;MACzB,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,EACAC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC9B;IAED,IAAI,CAAC/B,oBAAoB,CAACkC,kBAAkB,EAAE,CAACL,SAAS,CACrDM,eAAyC,IAAI;MAC5C,IAAI,CAACC,iBAAiB,GAAGD,eAAe;IAC1C,CAAC,EACAJ,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC9B;EACH;EAEAM,OAAO;IACL,MAAMhC,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1D,MAAMC,gBAAgB,GAAG,IAAIhB,WAAW,CAAC;MACvCiB,KAAK,EAAEL,WAAW;MAClBM,QAAQ,EAAE;KACX,CAAC;IAEF,MAAM2B,cAAc,GAClB7B,gBAAgB,CAACC,KAAK,KAAK,IAAI,GAAGD,gBAAgB,CAACC,KAAK,GAAGL,WAAW;IAExE,MAAMkC,uBAAuB,GAAG,IAAI,CAAC3B,QAAQ,CAACF,KAAK,CAACiB,aAAa;IAEjE,MAAMa,qBAAqB,GAAG,IAAI,CAACJ,iBAAiB,CAACK,IAAI,CACtDC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKJ,uBAAuB,CACxC;IAED,IAAI,CAACC,qBAAqB,EAAE;MAC1B,OAAO,CAAC;;;IAGV,MAAMI,OAAO,GAAkB;MAC7BD,EAAE,EAAErC,IAAI,CAACuC,GAAG,EAAE,CAACC,QAAQ,EAAE;MACzBhC,IAAI,EAAE,IAAI,CAACF,QAAQ,CAACF,KAAK,CAACI,IAAI;MAC9BE,WAAW,EAAE,IAAI,CAACJ,QAAQ,CAACF,KAAK,CAACM,WAAW;MAC5CC,QAAQ,EAAE,IAAI,CAACL,QAAQ,CAACF,KAAK,CAACO,QAAQ;MACtC8B,eAAe,EAAEP,qBAAqB,CAACG,EAAE;MACzChB,aAAa,EAAEa,qBAAqB;MACpCQ,KAAK,EAAE,IAAI,CAACpC,QAAQ,CAACF,KAAK,CAACW,MAAM;MACjCE,SAAS,EAAE,IAAIjB,IAAI,CAACgC,cAAc,CAAC;MACnCd,SAAS,EAAE,IAAI,CAACZ,QAAQ,CAACF,KAAK,CAACc,SAAS;MACxCC,OAAO,EAAE,IAAI,CAACb,QAAQ,CAACF,KAAK,CAACe,OAAO;MACpCwB,YAAY,EAAE,IAAI,CAACrC,QAAQ,CAACF,KAAK,CAACU;KACnC;IAED,IAAI,CAACrB,WAAW,CAACmD,UAAU,CAACN,OAAO,CAAC,CAACf,SAAS,CAC3CsB,IAAmB,IAAI;MACtBnB,OAAO,CAACC,GAAG,CAACkB,IAAI,CAAC;MACjB,IAAI,CAACX,qBAAqB,CAACV,KAAK,EAAE;QAChCU,qBAAqB,CAACV,KAAK,GAAG,EAAE,CAAC,CAAC;;;MAEpCU,qBAAqB,CAACV,KAAK,CAACsB,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC;MACxC,IAAI,CAAClD,MAAM,CAACoD,aAAa,CAAC,kBAAkB,CAAC;IAC/C,CAAC,EACAtB,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC9B;EACH;;AA/FWnC,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAA0D;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCpB9B/D,+BAAwB;MAEhBA,wDAAwC;MAAAA,iBAAK;MACjDA,8BAAwB;MAEDA,qBAAK;MAAAA,iBAAQ;MAChCA,gCAOE;MADAA;QAAA;MAAA,EAAiC;MANnCA,iBAOE;MAEJA,8BAAyB;MACEA,4BAAW;MAAAA,iBAAQ;MAC5CA,iCAOE;MADAA;QAAA;MAAA,EAAwC;MAN1CA,iBAOE;MAEJA,+BAAyB;MACDA,yBAAQ;MAAAA,iBAAQ;MACtCA,kCAMC;MADCA;QAAA;MAAA,EAAqC;MAErCA,kCAAqB;MAAAA,qBAAI;MAAAA,iBAAS;MAClCA,mCAAuB;MAAAA,uBAAM;MAAAA,iBAAS;MACtCA,mCAAoB;MAAAA,oBAAG;MAAAA,iBAAS;MAGpCA,+BAAyB;MACHA,uBAAM;MAAAA,iBAAQ;MAClCA,mCAMC;MADCA;QAAA;MAAA,EAAmC;MAEnCA,mCAA4B;MAAAA,4BAAW;MAAAA,iBAAS;MAChDA,mCAA0B;MAAAA,0BAAS;MAAAA,iBAAS;MAC5CA,mCAAwB;MAAAA,wBAAO;MAAAA,iBAAS;MAG5CA,+BAAyB;MACIA,8BAAa;MAAAA,iBAAQ;MAChDA,mCAMC;MADCA;QAAA;MAAA,EAA0C;MAE1CA,2EAKS;MACXA,iBAAS;MAEXA,+BAAyB;MACAA,2BAAU;MAAAA,iBAAQ;MACzCA,kCAOE;MADAA;QAAA;MAAA,EAAsC;MANxCA,iBAOE;MAEJA,+BAAyB;MACFA,yBAAQ;MAAAA,iBAAQ;MACrCA,kCAOE;MADAA;QAAA;MAAA,EAAoC;MANtCA,iBAOE;MAEJA,mCAAoD;MAApBA;QAAA,OAASgE,aAAS;MAAA,EAAC;MAAChE,4BAAW;MAAAA,iBAAS;;;MAjFpEA,eAAiC;MAAjCA,iDAAiC;MAWjCA,eAAwC;MAAxCA,wDAAwC;MAUxCA,eAAqC;MAArCA,qDAAqC;MAcrCA,gBAAmC;MAAnCA,mDAAmC;MAcnCA,gBAA0C;MAA1CA,0DAA0C;MAGdA,eAAoB;MAApBA,+CAAoB;MAehDA,eAAsC;MAAtCA,sDAAsC;MAWtCA,eAAoC;MAApCA,oDAAoC","names":["Priority","WorkStatus","FormControl","Validators","i0","TaskFormComponent","constructor","formBuilder","taskService","functionalityService","router","Object","values","ngOnInit","currentDate","Date","toISOString","split","addedDateControl","value","disabled","taskForm","group","name","required","description","priority","Low","projectName","owner","status","Todo","addedDate","startDate","endDate","timeSpent","functionality","getTasks","subscribe","tasks","error","console","log","getFunctionalities","functionalities","functionalityList","addTask","addedDateValue","selectedFunctionalityId","selectedFunctionality","find","f","ID","newTask","now","toString","functionalityID","state","assignedUser","createTask","task","push","navigateByUrl","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/task-form/task-form.component.ts","/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/task-form/task-form.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { TaskInterface } from \"src/app/interfaces/task.interface\";\nimport { TaskService } from \"src/app/services/task.service\";\nimport { Priority } from \"src/app/enums/priority.enum\";\nimport { WorkStatus } from \"src/app/enums/workStatus.enum\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { FunctionalityService } from \"src/app/services/functionality.service\";\nimport { FunctionalityInterface } from \"src/app/interfaces/functionality.interface\";\n\n@Component({\n  selector: \"app-task-form\",\n  templateUrl: \"./task-form.component.html\",\n  styleUrls: [\"./task-form.component.css\"],\n})\nexport class TaskFormComponent implements OnInit {\n  tasks: TaskInterface[] = [];\n  taskForm!: FormGroup;\n  workStatusValues = Object.values(WorkStatus);\n  priorityValues = Object.values(Priority);\n  functionalityList: FunctionalityInterface[] = [];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private taskService: TaskService,\n    private functionalityService: FunctionalityService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true,\n    });\n\n    this.taskForm = this.formBuilder.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      priority: [Priority.Low, Validators.required],\n      projectName: [\"\", Validators.required],\n      owner: [\"\", Validators.required],\n      status: [WorkStatus.Todo, Validators.required],\n      addedDate: addedDateControl,\n      startDate: [\"\"],\n      endDate: [\"\"],\n      timeSpent: [\"\"],\n      functionality: [\"\", Validators.required],\n    });\n\n    this.taskService.getTasks().subscribe(\n      (tasks: TaskInterface[]) => {\n        this.tasks = tasks;\n      },\n      (error) => console.log(error)\n    );\n\n    this.functionalityService.getFunctionalities().subscribe(\n      (functionalities: FunctionalityInterface[]) => {\n        this.functionalityList = functionalities;\n      },\n      (error) => console.log(error)\n    );\n  }\n\n  addTask() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true,\n    });\n\n    const addedDateValue =\n      addedDateControl.value !== null ? addedDateControl.value : currentDate;\n\n    const selectedFunctionalityId = this.taskForm.value.functionality;\n\n    const selectedFunctionality = this.functionalityList.find(\n      (f) => f.ID === selectedFunctionalityId\n    );\n\n    if (!selectedFunctionality) {\n      return; // Dodaj odpowiednie obsłużenie błędu, jeśli funkcjonalność nie zostanie znaleziona\n    }\n\n    const newTask: TaskInterface = {\n      ID: Date.now().toString(),\n      name: this.taskForm.value.name,\n      description: this.taskForm.value.description,\n      priority: this.taskForm.value.priority,\n      functionalityID: selectedFunctionality.ID,\n      functionality: selectedFunctionality,\n      state: this.taskForm.value.status,\n      addedDate: new Date(addedDateValue),\n      startDate: this.taskForm.value.startDate,\n      endDate: this.taskForm.value.endDate,\n      assignedUser: this.taskForm.value.owner,\n    };\n\n    this.taskService.createTask(newTask).subscribe(\n      (task: TaskInterface) => {\n        console.log(task);\n        if (!selectedFunctionality.tasks) {\n          selectedFunctionality.tasks = []; // Inicjalizuj tablicę zadaniami, jeśli nie istnieje\n        }\n        selectedFunctionality.tasks.push(task); // Dodaj zadanie do listy zadań funkcjonalności\n        this.router.navigateByUrl(\"/functionalities\");\n      },\n      (error) => console.log(error)\n    );\n  }\n}\n","<form class=\"task-form\">\n  <div>\n    <h1>Create a new task for this functionality</h1>\n    <div class=\"form-group\">\n      <div class=\"input-group\">\n        <label for=\"title\">Title</label>\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.name\"\n        />\n      </div>\n      <div class=\"input-group\">\n        <label for=\"description\">Description</label>\n        <input\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.description\"\n        />\n      </div>\n      <div class=\"input-group\">\n        <label for=\"priority\">Priority</label>\n        <select\n          id=\"priority\"\n          name=\"priority\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.priority\"\n        >\n          <option value=\"High\">High</option>\n          <option value=\"Medium\">Medium</option>\n          <option value=\"Low\">Low</option>\n        </select>\n      </div>\n      <div class=\"input-group\">\n        <label for=\"status\">Status</label>\n        <select\n          id=\"status\"\n          name=\"status\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.status\"\n        >\n          <option value=\"In Progress\">In Progress</option>\n          <option value=\"Completed\">Completed</option>\n          <option value=\"On Hold\">On Hold</option>\n        </select>\n      </div>\n      <div class=\"input-group\">\n        <label for=\"functionality\">Functionality</label>\n        <select\n          id=\"functionality\"\n          name=\"functionality\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.functionality\"\n        >\n          <option\n            *ngFor=\"let functionality of functionalityList\"\n            [value]=\"functionality.ID\"\n          >\n            {{ functionality.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"input-group\">\n        <label for=\"startDate\">Start date</label>\n        <input\n          type=\"date\"\n          id=\"startDate\"\n          name=\"startDate\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.startDate\"\n        />\n      </div>\n      <div class=\"input-group\">\n        <label for=\"endDate\">End date</label>\n        <input\n          type=\"date\"\n          id=\"endDate\"\n          name=\"endDate\"\n          required\n          class=\"form-control\"\n          [(ngModel)]=\"taskForm.value.endDate\"\n        />\n      </div>\n      <button class=\"btn-create-task\" (click)=\"addTask()\">Create task</button>\n    </div>\n  </div>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}