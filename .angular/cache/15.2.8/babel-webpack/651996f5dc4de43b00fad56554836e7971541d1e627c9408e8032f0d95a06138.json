{"ast":null,"code":"import { WorkStatus } from 'src/app/enums/workStatus.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/functionality.service\";\nimport * as i3 from \"src/app/services/task.service\";\nimport * as i4 from \"@angular/common\";\nfunction TaskListComponent_ng_container_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"ul\")(2, \"li\")(3, \"h1\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\")(13, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_ng_container_3_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.showTaskDetails(item_r1.ID));\n    });\n    i0.ɵɵtext(14, \"INFO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskListComponent_ng_container_3_div_1_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteTask(item_r1.ID));\n    });\n    i0.ɵɵtext(16, \"DELETE\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Nazwa: \", item_r1.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Opis: \", item_r1.description, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Priorytet: \", item_r1.priority, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Status: \", item_r1.state, \"\");\n  }\n}\nfunction TaskListComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TaskListComponent_ng_container_3_div_1_Template, 17, 4, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.functionalityID === ctx_r0.functionalityID);\n  }\n}\nexport class TaskListComponent {\n  constructor(route, functionalityService, router, taskService) {\n    this.route = route;\n    this.functionalityService = functionalityService;\n    this.router = router;\n    this.taskService = taskService;\n    this.functionalities = [];\n    this.tasks = [];\n    this.taskService.getTasks().subscribe(taskList => {\n      this.tasks = taskList;\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id !== null) {\n        this.functionalityID = id;\n        this.getSingleFunctionality(this.functionalityID);\n      } else {\n        this.functionalityID = '';\n      }\n    });\n  }\n  getSingleFunctionality(ID) {\n    this.functionalityService.getSingleFunctionality(ID).subscribe(functionality => {\n      this.functionality = functionality;\n      this.functionalities.push(this.functionality);\n    });\n  }\n  deleteTask(ID) {\n    this.taskService.deleteTask(ID).subscribe(() => {\n      console.log('Task został usunięty');\n      this.tasks = this.tasks.filter(item => item.ID !== ID);\n    }, error => console.log(error));\n  }\n  showTaskDetails(ID) {\n    // Implementacja wyświetlania szczegółów zadania\n  }\n  addTask() {\n    this.router.navigate(['/task/create']);\n  }\n  updateFunctionalityStatus(functionality) {\n    if (functionality.tasks && functionality.tasks.length > 0) {\n      const hasDoingTask = functionality.tasks.some(task => task.state === WorkStatus.Doing);\n      const allTasksDone = functionality.tasks.every(task => task.state === WorkStatus.Done);\n      if (hasDoingTask) {\n        functionality.status = WorkStatus.Doing;\n      } else if (allTasksDone) {\n        functionality.status = WorkStatus.Done;\n      } else {\n        functionality.status = WorkStatus.Todo;\n      }\n    } else {\n      if (functionality.status === WorkStatus.Doing) {\n        functionality.status = WorkStatus.Done;\n      }\n    }\n  }\n}\nTaskListComponent.ɵfac = function TaskListComponent_Factory(t) {\n  return new (t || TaskListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FunctionalityService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.TaskService));\n};\nTaskListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaskListComponent,\n  selectors: [[\"app-task-list\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"task-list\"], [1, \"task-list__title\"], [4, \"ngFor\", \"ngForOf\"], [1, \"create-task-btn\", 3, \"click\"], [\"class\", \"task\", 4, \"ngIf\"], [1, \"task\"], [1, \"task__name\"], [1, \"task__actions\"], [3, \"click\"]],\n  template: function TaskListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"List of tasks for this functionality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, TaskListComponent_ng_container_3_Template, 2, 1, \"ng-container\", 2);\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function TaskListComponent_Template_button_click_4_listener() {\n        return ctx.addTask();\n      });\n      i0.ɵɵtext(5, \"Create task\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tasks);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf],\n  styles: [\".task-list[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  background-color: #f5f5f5;\\n  border-radius: 5px;\\n}\\n\\n.task-list__title[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  margin-bottom: 20px;\\n}\\n\\n.task[_ngcontent-%COMP%] {\\n  padding: 10px;\\n  background-color: #fff;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n}\\n\\n.task__name[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  margin-bottom: 5px;\\n}\\n\\n.task[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n  list-style-type: none;\\n  padding-left: 0;\\n}\\n\\n.task[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  margin-bottom: 5px;\\n}\\n\\n.task__actions[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n}\\n\\n.task__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  padding: 5px 10px;\\n  margin-right: 5px;\\n  border: none;\\n  background-color: #eee;\\n  color: #333;\\n  cursor: pointer;\\n  border-radius: 3px;\\n}\\n\\n.task__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #ddd;\\n}\\n\\n.create-task-btn[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  padding: 10px 20px;\\n  border: none;\\n  background-color: #007bff;\\n  color: #fff;\\n  cursor: pointer;\\n  border-radius: 5px;\\n}\\n\\n.create-task-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhc2stbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixXQUFXO0VBQ1gsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJ0YXNrLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50YXNrLWxpc3Qge1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4udGFzay1saXN0X190aXRsZSB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLnRhc2sge1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi50YXNrX19uYW1lIHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50YXNrIHVsIHtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG59XG5cbi50YXNrIGxpIHtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG4udGFza19fYWN0aW9ucyB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50YXNrX19hY3Rpb25zIGJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIGNvbG9yOiAjMzMzO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbn1cblxuLnRhc2tfX2FjdGlvbnMgYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcbn1cblxuLmNyZWF0ZS10YXNrLWJ0biB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLmNyZWF0ZS10YXNrLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XG59XG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90YXNrLWxpc3QvdGFzay1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBLGd4RUFBZ3hFIiwic291cmNlc0NvbnRlbnQiOlsiLnRhc2stbGlzdCB7XG4gIG1heC13aWR0aDogODAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi50YXNrLWxpc3RfX3RpdGxlIHtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4udGFzayB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLnRhc2tfX25hbWUge1xuICBmb250LXNpemU6IDE4cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuLnRhc2sgdWwge1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIHBhZGRpbmctbGVmdDogMDtcbn1cblxuLnRhc2sgbGkge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi50YXNrX19hY3Rpb25zIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuLnRhc2tfX2FjdGlvbnMgYnV0dG9uIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgY29sb3I6ICMzMzM7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuXG4udGFza19fYWN0aW9ucyBidXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xufVxuXG4uY3JlYXRlLXRhc2stYnRuIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uY3JlYXRlLXRhc2stYnRuOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["WorkStatus","i0","TaskListComponent","constructor","route","functionalityService","router","taskService","getTasks","subscribe","taskList","tasks","ngOnInit","paramMap","params","id","get","functionalityID","getSingleFunctionality","ID","functionality","functionalities","push","deleteTask","console","log","filter","item","error","showTaskDetails","addTask","navigate","updateFunctionalityStatus","length","hasDoingTask","some","task","state","Doing","allTasksDone","every","Done","status","Todo","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/task-list/task-list.component.ts","/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/task-list/task-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FunctionalityInterface } from 'src/app/interfaces/functionality.interface';\nimport { FunctionalityService } from 'src/app/services/functionality.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TaskService } from 'src/app/services/task.service';\nimport { TaskInterface } from 'src/app/interfaces/task.interface';\nimport { WorkStatus } from 'src/app/enums/workStatus.enum';\n\n@Component({\n  selector: 'app-task-list',\n  templateUrl: './task-list.component.html',\n  styleUrls: ['./task-list.component.css'],\n})\nexport class TaskListComponent implements OnInit {\n  functionality!: FunctionalityInterface;\n  functionalities: FunctionalityInterface[] = [];\n  tasks: TaskInterface[] = [];\n  functionalityID!: string;\n  item: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private functionalityService: FunctionalityService,\n    private router: Router,\n    private taskService: TaskService\n  ) {\n    this.taskService.getTasks().subscribe((taskList: TaskInterface[]) => {\n      this.tasks = taskList;\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe((params) => {\n      const id = params.get('id');\n      if (id !== null) {\n        this.functionalityID = id;\n        this.getSingleFunctionality(this.functionalityID);\n      } else {\n        this.functionalityID = '';\n      }\n    });\n  }\n\n  getSingleFunctionality(ID: string) {\n    this.functionalityService\n      .getSingleFunctionality(ID)\n      .subscribe((functionality) => {\n        this.functionality = functionality as FunctionalityInterface;\n        this.functionalities.push(this.functionality);\n      });\n  }\n\n  deleteTask(ID: string) {\n    this.taskService.deleteTask(ID).subscribe(\n      () => {\n        console.log('Task został usunięty');\n        this.tasks = this.tasks.filter((item) => item.ID !== ID);\n      },\n      (error) => console.log(error)\n    );\n  }\n\n  showTaskDetails(ID: string) {\n    // Implementacja wyświetlania szczegółów zadania\n  }\n\n  addTask() {\n    this.router.navigate(['/task/create']);\n  }\n\n  updateFunctionalityStatus(functionality: FunctionalityInterface) {\n    if (functionality.tasks && functionality.tasks.length > 0) {\n      const hasDoingTask = functionality.tasks.some(\n        (task) => task.state === WorkStatus.Doing\n      );\n      const allTasksDone = functionality.tasks.every(\n        (task) => task.state === WorkStatus.Done\n      );\n\n      if (hasDoingTask) {\n        functionality.status = WorkStatus.Doing;\n      } else if (allTasksDone) {\n        functionality.status = WorkStatus.Done;\n      } else {\n        functionality.status = WorkStatus.Todo;\n      }\n    } else {\n      if (functionality.status === WorkStatus.Doing) {\n        functionality.status = WorkStatus.Done;\n      }\n    }\n  }\n}\n","<div class=\"task-list\">\n  <h1 class=\"task-list__title\">List of tasks for this functionality</h1>\n  <ng-container *ngFor=\"let item of tasks\">\n    <div *ngIf=\"item.functionalityID === functionalityID\" class=\"task\">\n      <ul>\n        <li>\n          <h1 class=\"task__name\">Nazwa: {{ item.name }}</h1>\n        </li>\n        <li>Opis: {{ item.description }}</li>\n        <li>Priorytet: {{ item.priority }}</li>\n        <li>Status: {{ item.state }}</li>\n      </ul>\n\n      <div class=\"task__actions\">\n        <div>\n          <button (click)=\"showTaskDetails(item.ID)\">INFO</button>\n          <button (click)=\"deleteTask(item.ID)\">DELETE</button>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n  <button (click)=\"addTask()\" class=\"create-task-btn\">Create task</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}