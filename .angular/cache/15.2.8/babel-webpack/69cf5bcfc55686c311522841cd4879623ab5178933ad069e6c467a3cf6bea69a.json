{"ast":null,"code":"import { FormControl, Validators } from \"@angular/forms\";\nimport { WorkStatus } from \"src/app/enums/workStatus.enum\";\nimport { Priority } from \"src/app/enums/priority.enum\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/functionality.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction FunctionalityFormComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const priority_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", priority_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", priority_r2, \" \");\n  }\n}\nfunction FunctionalityFormComponent_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", status_r3, \" \");\n  }\n}\nexport class FunctionalityFormComponent {\n  constructor(formBuilder, functionalitiesService, router) {\n    this.formBuilder = formBuilder;\n    this.functionalitiesService = functionalitiesService;\n    this.router = router;\n    this.functionalities = [];\n    this.workStatusValues = Object.values(WorkStatus);\n    this.priorityValues = Object.values(Priority);\n  }\n  ngOnInit() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true\n    });\n    this.functionalityForm = this.formBuilder.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      priority: [Priority.Low, Validators.required],\n      projectName: [\"\", Validators.required],\n      owner: [\"\", Validators.required],\n      status: [WorkStatus.Todo, Validators.required],\n      addedDate: addedDateControl,\n      startDate: [\"\"],\n      endDate: [\"\"],\n      timeSpent: [\"\"]\n    });\n    this.functionalitiesService.getFunctionalities().subscribe(functionalities => {\n      this.functionalities = functionalities;\n    });\n  }\n  createFunctionality() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true\n    });\n    const addedDateValue = addedDateControl.value !== null ? addedDateControl.value : currentDate;\n    const functionality = {\n      ID: Date.now().toString(),\n      name: this.functionalityForm.value.name,\n      description: this.functionalityForm.value.description,\n      priority: this.functionalityForm.value.priority,\n      status: this.functionalityForm.value.status,\n      addedDate: new Date(addedDateValue),\n      startDate: this.functionalityForm.value.startDate || undefined,\n      endDate: this.functionalityForm.value.endDate || undefined,\n      tasks: [] // Dodana właściwość \"tasks\" jako pusta tablica\n    };\n\n    this.functionalitiesService.createFunctionality(functionality).subscribe(() => {\n      console.log(functionality);\n      this.router.navigateByUrl(\"/functionalities\");\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nFunctionalityFormComponent.ɵfac = function FunctionalityFormComponent_Factory(t) {\n  return new (t || FunctionalityFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FunctionalityService), i0.ɵɵdirectiveInject(i3.Router));\n};\nFunctionalityFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FunctionalityFormComponent,\n  selectors: [[\"app-functionality-form\"]],\n  decls: 33,\n  vars: 3,\n  consts: [[1, \"form-container\", 3, \"formGroup\"], [1, \"container\"], [1, \"form-title\"], [1, \"form-content\"], [1, \"form-group\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-input\"], [\"for\", \"description\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", \"formControlName\", \"description\", \"required\", \"\", 1, \"form-input\"], [\"for\", \"priority\", 1, \"form-label\"], [\"id\", \"priority\", \"name\", \"priority\", \"formControlName\", \"priority\", \"required\", \"\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"status\", 1, \"form-label\"], [\"id\", \"status\", \"name\", \"status\", \"formControlName\", \"status\", \"required\", \"\", 1, \"form-select\"], [\"for\", \"startDate\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"startDate\", \"name\", \"startDate\", \"formControlName\", \"startDate\", \"min\", \"Date.now()\", \"required\", \"\", 1, \"form-input\"], [\"for\", \"endDate\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"endDate\", \"name\", \"endDate\", \"formControlName\", \"endDate\", \"required\", \"\", 1, \"form-input\"], [1, \"form-button\", 3, \"click\"], [3, \"value\"]],\n  template: function FunctionalityFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Create a New Functionality\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n      i0.ɵɵtext(15, \"Priority\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"select\", 10);\n      i0.ɵɵtemplate(17, FunctionalityFormComponent_option_17_Template, 2, 2, \"option\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\", 12);\n      i0.ɵɵtext(20, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"select\", 13);\n      i0.ɵɵtemplate(22, FunctionalityFormComponent_option_22_Template, 2, 2, \"option\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 4)(24, \"label\", 14);\n      i0.ɵɵtext(25, \"Start date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 4)(28, \"label\", 16);\n      i0.ɵɵtext(29, \"End date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function FunctionalityFormComponent_Template_button_click_31_listener() {\n        return ctx.createFunctionality();\n      });\n      i0.ɵɵtext(32, \" Create Functionality \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.functionalityForm);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.priorityValues);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.workStatusValues);\n    }\n  },\n  dependencies: [i4.NgForOf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmdW5jdGlvbmFsaXR5LWZvcm0uY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9mdW5jdGlvbmFsaXR5LWZvcm0vZnVuY3Rpb25hbGl0eS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGdMQUFnTCIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","WorkStatus","Priority","i0","FunctionalityFormComponent","constructor","formBuilder","functionalitiesService","router","Object","values","ngOnInit","currentDate","Date","toISOString","split","addedDateControl","value","disabled","functionalityForm","group","name","required","description","priority","Low","projectName","owner","status","Todo","addedDate","startDate","endDate","timeSpent","getFunctionalities","subscribe","functionalities","createFunctionality","addedDateValue","functionality","ID","now","toString","undefined","tasks","console","log","navigateByUrl","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/functionality-form/functionality-form.component.ts","/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/functionality-form/functionality-form.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { FunctionalityInterface } from \"src/app/interfaces/functionality.interface\";\nimport { FunctionalityService } from \"src/app/services/functionality.service\";\nimport { TaskInterface } from \"src/app/interfaces/task.interface\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { WorkStatus } from \"src/app/enums/workStatus.enum\";\nimport { Priority } from \"src/app/enums/priority.enum\";\n\n@Component({\n  selector: \"app-functionality-form\",\n  templateUrl: \"./functionality-form.component.html\",\n  styleUrls: [\"./functionality-form.component.css\"],\n})\nexport class FunctionalityFormComponent implements OnInit {\n  functionalities: FunctionalityInterface[] = [];\n  functionalityForm!: FormGroup;\n  workStatusValues = Object.values(WorkStatus);\n  priorityValues = Object.values(Priority);\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private functionalitiesService: FunctionalityService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true,\n    });\n\n    this.functionalityForm = this.formBuilder.group({\n      name: [\"\", Validators.required],\n      description: [\"\", Validators.required],\n      priority: [Priority.Low, Validators.required],\n      projectName: [\"\", Validators.required],\n      owner: [\"\", Validators.required],\n      status: [WorkStatus.Todo, Validators.required],\n      addedDate: addedDateControl,\n      startDate: [\"\"],\n      endDate: [\"\"],\n      timeSpent: [\"\"],\n    });\n\n    this.functionalitiesService\n      .getFunctionalities()\n      .subscribe((functionalities: FunctionalityInterface[]) => {\n        this.functionalities = functionalities;\n      });\n  }\n\n  createFunctionality() {\n    const currentDate = new Date().toISOString().split(\"T\")[0];\n    const addedDateControl = new FormControl({\n      value: currentDate,\n      disabled: true,\n    });\n    const addedDateValue =\n      addedDateControl.value !== null ? addedDateControl.value : currentDate;\n\n    const functionality: FunctionalityInterface = {\n      ID: Date.now().toString(),\n      name: this.functionalityForm.value.name,\n      description: this.functionalityForm.value.description,\n      priority: this.functionalityForm.value.priority,\n      status: this.functionalityForm.value.status,\n      addedDate: new Date(addedDateValue),\n      startDate: this.functionalityForm.value.startDate || undefined,\n      endDate: this.functionalityForm.value.endDate || undefined,\n      tasks: [], // Dodana właściwość \"tasks\" jako pusta tablica\n    };\n\n    this.functionalitiesService.createFunctionality(functionality).subscribe(\n      () => {\n        console.log(functionality);\n        this.router.navigateByUrl(\"/functionalities\");\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n}\n","<form [formGroup]=\"functionalityForm\" class=\"form-container\">\n  <div class=\"container\">\n    <h1 class=\"form-title\">Create a New Functionality</h1>\n    <div class=\"form-content\">\n      <div class=\"form-group\">\n        <label for=\"title\" class=\"form-label\">Title</label>\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"title\"\n          formControlName=\"name\"\n          required\n          class=\"form-input\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"description\" class=\"form-label\">Description</label>\n        <input\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n          formControlName=\"description\"\n          required\n          class=\"form-input\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"priority\" class=\"form-label\">Priority</label>\n        <select\n          id=\"priority\"\n          name=\"priority\"\n          formControlName=\"priority\"\n          required\n          class=\"form-select\"\n        >\n          <option *ngFor=\"let priority of priorityValues\" [value]=\"priority\">\n            {{ priority }}\n          </option>\n        </select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"status\" class=\"form-label\">Status</label>\n        <select\n          id=\"status\"\n          name=\"status\"\n          formControlName=\"status\"\n          required\n          class=\"form-select\"\n        >\n          <option *ngFor=\"let status of workStatusValues\" [value]=\"status\">\n            {{ status }}\n          </option>\n        </select>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"startDate\" class=\"form-label\">Start date</label>\n        <input\n          type=\"date\"\n          id=\"startDate\"\n          name=\"startDate\"\n          formControlName=\"startDate\"\n          min=\"Date.now()\"\n          required\n          class=\"form-input\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"endDate\" class=\"form-label\">End date</label>\n        <input\n          type=\"date\"\n          id=\"endDate\"\n          name=\"endDate\"\n          formControlName=\"endDate\"\n          required\n          class=\"form-input\"\n        />\n      </div>\n      <button class=\"form-button\" (click)=\"createFunctionality()\">\n        Create Functionality\n      </button>\n    </div>\n  </div>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}