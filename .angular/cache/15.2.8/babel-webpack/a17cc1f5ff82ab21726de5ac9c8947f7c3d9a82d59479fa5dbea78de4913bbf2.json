{"ast":null,"code":"import { WorkStatus } from 'src/app/enums/workStatus.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/functionality.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction FunctionalityListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ul\")(2, \"li\")(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"div\")(13, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function FunctionalityListComponent_div_3_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editFunctionality(item_r1.ID));\n    });\n    i0.ɵɵtext(14, \"\\u2699\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function FunctionalityListComponent_div_3_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.showFunctionalityDetails(item_r1.ID));\n    });\n    i0.ɵɵtext(16, \"\\u2139\\uFE0E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function FunctionalityListComponent_div_3_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteFunctionality(item_r1.ID));\n    });\n    i0.ɵɵtext(18, \"\\u274C\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Nazwa: \", item_r1.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Opis: \", item_r1.description, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Priorytet: \", item_r1.priority, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Status: \", item_r1.status, \"\");\n  }\n}\nexport class FunctionalityListComponent {\n  constructor(functionalityService, router) {\n    this.functionalityService = functionalityService;\n    this.router = router;\n    this.functionality = [];\n    this.functionalityService.getFunctionalities().subscribe(functionality => {\n      this.functionality = functionality;\n      this.updateFunctionalityStatus();\n    });\n  }\n  ngOnInit() {\n    console.log(this.functionality);\n  }\n  showFunctionalityDetails(ID) {\n    this.router.navigate(['/functionalities', ID]);\n  }\n  deleteFunctionality(id) {\n    this.functionalityService.deleteFunctionality(id).subscribe(() => {\n      console.log('Funkcjonalność została usunięta.');\n      this.functionality = this.functionality.filter(item => item.ID !== id);\n      this.updateFunctionalityStatus();\n    }, error => {\n      console.error('Wystąpił błąd podczas usuwania funkcjonalności:', error);\n    });\n  }\n  addFunctionality() {\n    this.router.navigate(['functionalities/create']);\n  }\n  editFunctionality(ID) {\n    this.router.navigate(['/functionality/edit', ID]);\n  }\n  updateFunctionalityStatus() {\n    this.functionality.forEach(func => {\n      const hasDoingTask = func.tasks?.some(task => task.state === WorkStatus.Doing);\n      const allTasksDone = func.tasks?.every(task => task.state === WorkStatus.Done);\n      if (hasDoingTask) {\n        func.status = WorkStatus.Doing;\n      } else if (allTasksDone) {\n        func.status = WorkStatus.Done;\n      } else {\n        func.status = WorkStatus.Todo; // Dodaj tę linijkę, jeśli chcesz, aby status był ustawiany na \"Pending\", gdy nie ma żadnych zadań lub gdy nie wszystkie są zakończone\n      }\n    });\n  }\n}\n\nFunctionalityListComponent.ɵfac = function FunctionalityListComponent_Factory(t) {\n  return new (t || FunctionalityListComponent)(i0.ɵɵdirectiveInject(i1.FunctionalityService), i0.ɵɵdirectiveInject(i2.Router));\n};\nFunctionalityListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FunctionalityListComponent,\n  selectors: [[\"app-functionality-list\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function FunctionalityListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"List of functionalities\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, FunctionalityListComponent_div_3_Template, 19, 4, \"div\", 0);\n      i0.ɵɵelementStart(4, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function FunctionalityListComponent_Template_button_click_4_listener() {\n        return ctx.addFunctionality();\n      });\n      i0.ɵɵtext(5, \"Create functionality\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(6, \" stworz do tego css zeby to wygladalo ladnie\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.functionality);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"div[_ngcontent-%COMP%] {\\n    max-width: 600px;\\n    margin: 0 auto;\\n    padding: 20px;\\n  }\\n  \\n  \\n  ul[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    padding: 0;\\n  }\\n  \\n  \\n  li[_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n  }\\n  \\n  \\n  h1[_ngcontent-%COMP%] {\\n    font-size: 18px;\\n    margin-bottom: 5px;\\n  }\\n  \\n  \\n  li[_ngcontent-%COMP%]:nth-child(2) {\\n    font-size: 14px;\\n    color: #555;\\n  }\\n  \\n  \\n  li[_ngcontent-%COMP%]:nth-child(3) {\\n    font-size: 14px;\\n    color: #888;\\n  }\\n  \\n  \\n  li[_ngcontent-%COMP%]:nth-child(4) {\\n    font-size: 14px;\\n    color: #888;\\n  }\\n  \\n  \\n  button[_ngcontent-%COMP%] {\\n    border: none;\\n    background: none;\\n    padding: 0;\\n    font-size: 16px;\\n    cursor: pointer;\\n  }\\n  \\n  \\n  button[_ngcontent-%COMP%]:nth-child(1) {\\n    margin-right: 10px;\\n  }\\n  \\n  \\n  button[_ngcontent-%COMP%]:last-child {\\n    display: block;\\n    margin-top: 20px;\\n    padding: 10px 20px;\\n    background-color: #007bff;\\n    color: #fff;\\n    border-radius: 5px;\\n    border: none;\\n    cursor: pointer;\\n  }\\n  \\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9uYWxpdHktbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQztBQUNqQztJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsYUFBYTtFQUNmOztFQUVBLHFDQUFxQztFQUNyQztJQUNFLHFCQUFxQjtJQUNyQixVQUFVO0VBQ1o7O0VBRUEsc0NBQXNDO0VBQ3RDO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBLGlDQUFpQztFQUNqQztJQUNFLGVBQWU7SUFDZixrQkFBa0I7RUFDcEI7O0VBRUEsd0NBQXdDO0VBQ3hDO0lBQ0UsZUFBZTtJQUNmLFdBQVc7RUFDYjs7RUFFQSxxQ0FBcUM7RUFDckM7SUFDRSxlQUFlO0lBQ2YsV0FBVztFQUNiOztFQUVBLG1DQUFtQztFQUNuQztJQUNFLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUEsMkNBQTJDO0VBQzNDO0lBQ0UsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixVQUFVO0lBQ1YsZUFBZTtJQUNmLGVBQWU7RUFDakI7O0VBRUEsOEJBQThCO0VBQzlCO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBLDhDQUE4QztFQUM5QztJQUNFLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixlQUFlO0VBQ2pCOztFQUVBLDZCQUE2QjtFQUM3QjtJQUNFLDBCQUEwQjtFQUM1QiIsImZpbGUiOiJmdW5jdGlvbmFsaXR5LWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFN0eWxlIGZvciB0aGUgbWFpbiBjb250YWluZXIgKi9cbmRpdiB7XG4gICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBwYWRkaW5nOiAyMHB4O1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgdGhlIGZ1bmN0aW9uYWxpdHkgbGlzdCAqL1xuICB1bCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciBlYWNoIGZ1bmN0aW9uYWxpdHkgaXRlbSAqL1xuICBsaSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIGZ1bmN0aW9uYWxpdHkgbmFtZSAqL1xuICBoMSB7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIGZ1bmN0aW9uYWxpdHkgZGVzY3JpcHRpb24gKi9cbiAgbGk6bnRoLWNoaWxkKDIpIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICM1NTU7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciBmdW5jdGlvbmFsaXR5IHByaW9yaXR5ICovXG4gIGxpOm50aC1jaGlsZCgzKSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjODg4O1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgZnVuY3Rpb25hbGl0eSBzdGF0dXMgKi9cbiAgbGk6bnRoLWNoaWxkKDQpIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICM4ODg7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciBmdW5jdGlvbmFsaXR5IGFjdGlvbiBidXR0b25zICovXG4gIGJ1dHRvbiB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgdGhlIGVkaXQgYnV0dG9uICovXG4gIGJ1dHRvbjpudGgtY2hpbGQoMSkge1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIHRoZSBjcmVhdGUgZnVuY3Rpb25hbGl0eSBidXR0b24gKi9cbiAgYnV0dG9uOmxhc3QtY2hpbGQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgXG4gIC8qIEhvdmVyIHN0eWxlcyBmb3IgYnV0dG9ucyAqL1xuICBidXR0b246aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB9XG4gICJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9mdW5jdGlvbmFsaXR5LWxpc3QvZnVuY3Rpb25hbGl0eS1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDO0FBQ2pDO0lBQ0ksZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxhQUFhO0VBQ2Y7O0VBRUEscUNBQXFDO0VBQ3JDO0lBQ0UscUJBQXFCO0lBQ3JCLFVBQVU7RUFDWjs7RUFFQSxzQ0FBc0M7RUFDdEM7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUEsaUNBQWlDO0VBQ2pDO0lBQ0UsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQjs7RUFFQSx3Q0FBd0M7RUFDeEM7SUFDRSxlQUFlO0lBQ2YsV0FBVztFQUNiOztFQUVBLHFDQUFxQztFQUNyQztJQUNFLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUEsbUNBQW1DO0VBQ25DO0lBQ0UsZUFBZTtJQUNmLFdBQVc7RUFDYjs7RUFFQSwyQ0FBMkM7RUFDM0M7SUFDRSxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLFVBQVU7SUFDVixlQUFlO0lBQ2YsZUFBZTtFQUNqQjs7RUFFQSw4QkFBOEI7RUFDOUI7SUFDRSxrQkFBa0I7RUFDcEI7O0VBRUEsOENBQThDO0VBQzlDO0lBQ0UsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7RUFDakI7O0VBRUEsNkJBQTZCO0VBQzdCO0lBQ0UsMEJBQTBCO0VBQzVCOztBQUVGLGd6RkFBZ3pGIiwic291cmNlc0NvbnRlbnQiOlsiLyogU3R5bGUgZm9yIHRoZSBtYWluIGNvbnRhaW5lciAqL1xuZGl2IHtcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciB0aGUgZnVuY3Rpb25hbGl0eSBsaXN0ICovXG4gIHVsIHtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIGVhY2ggZnVuY3Rpb25hbGl0eSBpdGVtICovXG4gIGxpIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgZnVuY3Rpb25hbGl0eSBuYW1lICovXG4gIGgxIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgZnVuY3Rpb25hbGl0eSBkZXNjcmlwdGlvbiAqL1xuICBsaTpudGgtY2hpbGQoMikge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogIzU1NTtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIGZ1bmN0aW9uYWxpdHkgcHJpb3JpdHkgKi9cbiAgbGk6bnRoLWNoaWxkKDMpIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICM4ODg7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciBmdW5jdGlvbmFsaXR5IHN0YXR1cyAqL1xuICBsaTpudGgtY2hpbGQoNCkge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogIzg4ODtcbiAgfVxuICBcbiAgLyogU3R5bGUgZm9yIGZ1bmN0aW9uYWxpdHkgYWN0aW9uIGJ1dHRvbnMgKi9cbiAgYnV0dG9uIHtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgXG4gIC8qIFN0eWxlIGZvciB0aGUgZWRpdCBidXR0b24gKi9cbiAgYnV0dG9uOm50aC1jaGlsZCgxKSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICB9XG4gIFxuICAvKiBTdHlsZSBmb3IgdGhlIGNyZWF0ZSBmdW5jdGlvbmFsaXR5IGJ1dHRvbiAqL1xuICBidXR0b246bGFzdC1jaGlsZCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBcbiAgLyogSG92ZXIgc3R5bGVzIGZvciBidXR0b25zICovXG4gIGJ1dHRvbjpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["WorkStatus","i0","FunctionalityListComponent","constructor","functionalityService","router","getFunctionalities","subscribe","functionality","updateFunctionalityStatus","ngOnInit","console","log","showFunctionalityDetails","ID","navigate","deleteFunctionality","id","filter","item","error","addFunctionality","editFunctionality","forEach","func","hasDoingTask","tasks","some","task","state","Doing","allTasksDone","every","Done","status","Todo","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/functionality-list/functionality-list.component.ts","/Users/haze/Desktop/Angular Final Project/angularFinalProject/src/app/components/functionality-list/functionality-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FunctionalityService } from 'src/app/services/functionality.service';\nimport { Router } from '@angular/router';\nimport { FunctionalityInterface } from 'src/app/interfaces/functionality.interface';\nimport { TaskInterface } from 'src/app/interfaces/task.interface';\nimport { WorkStatus } from 'src/app/enums/workStatus.enum';\n@Component({\n  selector: 'app-functionality-list',\n  templateUrl: './functionality-list.component.html',\n  styleUrls: ['./functionality-list.component.css'],\n})\nexport class FunctionalityListComponent implements OnInit {\n  functionality: FunctionalityInterface[] = [];\n\n  constructor(\n    private functionalityService: FunctionalityService,\n    private router: Router\n  ) {\n    this.functionalityService\n      .getFunctionalities()\n      .subscribe((functionality: FunctionalityInterface[]) => {\n        this.functionality = functionality;\n        this.updateFunctionalityStatus();\n      });\n  }\n\n  ngOnInit(): void {\n    console.log(this.functionality);\n  }\n\n  showFunctionalityDetails(ID: string) {\n    this.router.navigate(['/functionalities', ID]);\n  }\n\n  deleteFunctionality(id: string) {\n    this.functionalityService.deleteFunctionality(id).subscribe(\n      () => {\n        console.log('Funkcjonalność została usunięta.');\n        this.functionality = this.functionality.filter(\n          (item) => item.ID !== id\n        );\n        this.updateFunctionalityStatus();\n      },\n      (error) => {\n        console.error('Wystąpił błąd podczas usuwania funkcjonalności:', error);\n      }\n    );\n  }\n\n  addFunctionality() {\n    this.router.navigate(['functionalities/create']);\n  }\n\n  editFunctionality(ID: string) {\n    this.router.navigate(['/functionality/edit', ID]);\n  }\n\n  private updateFunctionalityStatus() {\n    this.functionality.forEach((func) => {\n      const hasDoingTask = func.tasks?.some(\n        (task) => task.state === WorkStatus.Doing\n      );\n      const allTasksDone = func.tasks?.every(\n        (task) => task.state === WorkStatus.Done\n      );\n\n      if (hasDoingTask) {\n        func.status = WorkStatus.Doing;\n      } else if (allTasksDone) {\n        func.status = WorkStatus.Done;\n      } else {\n        func.status = WorkStatus.Todo; // Dodaj tę linijkę, jeśli chcesz, aby status był ustawiany na \"Pending\", gdy nie ma żadnych zadań lub gdy nie wszystkie są zakończone\n      }\n    });\n  }\n}\n","<div>\n  <h1>List of functionalities</h1>\n  <div *ngFor=\"let item of functionality\">\n    <ul>\n      <li>\n        <h1>Nazwa: {{ item.name }}</h1>\n      </li>\n      <li>Opis: {{ item.description }}</li>\n      <li>Priorytet: {{ item.priority }}</li>\n      <li>Status: {{ item.status }}</li>\n    </ul>\n\n    <div>\n      <div>\n        <button (click)=\"editFunctionality(item.ID)\">⚙️</button>\n        <button (click)=\"showFunctionalityDetails(item.ID)\">ℹ︎</button>\n        <button (click)=\"deleteFunctionality(item.ID)\">❌</button>\n      </div>\n    </div>\n  </div>\n  <button (click)=\"addFunctionality()\">Create functionality</button>\n</div> stworz do tego css zeby to wygladalo ladnie"]},"metadata":{},"sourceType":"module","externalDependencies":[]}